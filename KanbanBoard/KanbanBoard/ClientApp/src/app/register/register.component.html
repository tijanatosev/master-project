<mat-card>
  <mat-card-content>
    <form [formGroup]="registerForm">
      <h2>Register</h2>
      <mat-form-field appearance="outline">
        <mat-label>Enter username</mat-label>
        <input matInput placeholder="Username" formControlName="username">
        <mat-icon matSuffix>person</mat-icon>
      </mat-form-field>
      <mat-error *ngIf="registerForm.get('username').errors && registerForm.get('username').errors.usernameTaken">
        This username is already used by another user.
      </mat-error>
      <mat-error *ngIf="registerForm.get('username').errors && registerForm.get('username').errors.maxlength">
        Username is too long.
      </mat-error>
      <mat-error *ngIf="registerForm.get('username').errors && registerForm.get('username').errors.usernameInvalid">
        Username can't be empty.
      </mat-error>

      <mat-form-field appearance="outline">
        <mat-label>Enter first name</mat-label>
        <input matInput placeholder="First Name" formControlName="firstName">
      </mat-form-field>
      <mat-error *ngIf="registerForm.get('firstName').errors && registerForm.get('firstName').errors.maxlength">
        First Name is too long.
      </mat-error>
      <mat-error *ngIf="registerForm.get('firstName').errors && registerForm.get('firstName').errors.firstNameInvalid">
        First name can't be empty.
      </mat-error>

      <mat-form-field appearance="outline">
        <mat-label>Enter last name</mat-label>
        <input matInput placeholder="Last Name" formControlName="lastName">
      </mat-form-field>
      <mat-error *ngIf="registerForm.get('lastName').errors && registerForm.get('lastName').errors.maxlength">
        Last Name is too long.
      </mat-error>
      <mat-error *ngIf="registerForm.get('lastName').errors && registerForm.get('lastName').errors.lastNameInvalid">
        Last name can't be empty.
      </mat-error>

      <mat-form-field appearance="outline">
        <mat-label>Enter email</mat-label>
        <input matInput placeholder="Email" formControlName="email">
        <mat-icon matSuffix>email</mat-icon>
      </mat-form-field>
      <mat-error *ngIf="registerForm.get('email').errors && registerForm.get('email').errors.email">
        Email is not a valid email address.
      </mat-error>

      <mat-form-field appearance="outline">
        <mat-label>Enter password</mat-label>
        <input matInput placeholder="Password" formControlName="password" [type]="hide ? 'password' : 'text'">
        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
      </mat-form-field>
      <mat-error *ngIf="registerForm.get('password').errors && registerForm.get('password').errors.passwordIsNotStrong" style="padding-bottom: 10px">
        Password should contain uppercase and lowercase letters, numbers and be at least 8 characters long.
      </mat-error>

      <mat-form-field  appearance="outline">
        <mat-label>Retype password</mat-label>
        <input matInput placeholder="Password" formControlName="checkPassword" [type]="hideRetype ? 'password' : 'text'">
        <button mat-icon-button matSuffix (click)="hideRetype = !hideRetype" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideRetype">
          <mat-icon>{{hideRetype ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
      </mat-form-field>
      <mat-error *ngIf="registerForm.get('checkPassword').errors && registerForm.get('checkPassword').errors.passwordsDoNotMatch">
        Passwords do not match.
      </mat-error>

      <br>
      <button mat-raised-button color="primary" style="margin-bottom: 10px;" (click)="save(registerForm)" [disabled]="!registerForm.valid">Create account</button>
      <br>
      <mat-label>Already have an account?</mat-label>
      <br>
      <a href="#" style="text-decoration: none; color: #3F51B5;" routerLink="">Login</a>
    </form>
  </mat-card-content>
</mat-card>
